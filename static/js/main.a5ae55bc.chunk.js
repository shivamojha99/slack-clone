(this.webpackJsonpclone=this.webpackJsonpclone||[]).push([[0],{63:function(e,a,t){e.exports=t(92)},68:function(e,a,t){},69:function(e,a,t){},70:function(e,a,t){},75:function(e,a,t){},76:function(e,a,t){},88:function(e,a,t){},89:function(e,a,t){},90:function(e,a,t){},91:function(e,a,t){},92:function(e,a,t){"use strict";t.r(a);var n=t(0),c=t.n(n),l=t(24),r=t.n(l),o=(t(68),t(12)),s=(t(69),t(107)),i=t(46),m=t.n(i),u=t(47),d=t.n(u),h=t(48),E=t.n(h),p=(t(70),Object(n.createContext)()),v=function(e){var a=e.reducer,t=e.initialState,l=e.children;return c.a.createElement(p.Provider,{value:Object(n.useReducer)(a,t)},l)},f=function(){return Object(n.useContext)(p)};var g=function(){var e=f(),a=Object(o.a)(e,1)[0].user;return c.a.createElement("div",{className:"header"},c.a.createElement("div",{className:"header_left"},c.a.createElement(s.a,{className:"header_avatar",alt:null===a||void 0===a?void 0:a.displayName,src:null===a||void 0===a?void 0:a.photoURL}),c.a.createElement(m.a,null)),c.a.createElement("div",{className:"header_search"},c.a.createElement(d.a,null),c.a.createElement("input",{placeholder:"Search Codechamps"})),c.a.createElement("div",{className:"header_right"},c.a.createElement(E.a,null)))},b=(t(75),t(49)),N=t.n(b),O=t(50),j=t.n(O),I=(t(76),t(26)),C=t.n(I),_=C.a.initializeApp({apiKey:"AIzaSyAgSxUoj8Q3jrhEKbzvEG7p04WPE0ii-ss",authDomain:"slack-clone-ded42.firebaseapp.com",databaseURL:"https://slack-clone-ded42.firebaseio.com",projectId:"slack-clone-ded42",storageBucket:"slack-clone-ded42.appspot.com",messagingSenderId:"614401064737",appId:"1:614401064737:web:632a936770407017ec8860",measurementId:"G-ZYDCLYB3ED"}).firestore(),S=C.a.auth(),k=new C.a.auth.GoogleAuthProvider,w=_,y=t(5);var D=function(e){var a=e.Icon,t=e.title,n=e.id,l=e.addChannelOption,r=Object(y.f)();return c.a.createElement("div",{className:"sidebaroption",onClick:l?function(){var e=prompt("Please enter the channel Name");e&&w.collection("rooms").add({name:e})}:function(){n?r.push("/room/".concat(n)):r.push("title")}},a&&c.a.createElement(a,{className:"sidebaroption_icon"}),a?c.a.createElement("h3",null,t):c.a.createElement("h3",{className:"sidebaroption_channel"},c.a.createElement("span",{className:" sidebaroption_hash"},"#")," ",t))},A=t(51),L=t.n(A),R=t(52),B=t.n(R),P=t(53),U=t.n(P),x=t(54),G=t.n(x),W=t(55),z=t.n(W),H=t(56),M=t.n(H),T=t(57),Y=t.n(T);var F=function(){var e=Object(n.useState)([]),a=Object(o.a)(e,2),t=a[0],l=a[1],r=f(),s=Object(o.a)(r,1)[0].user;return Object(n.useEffect)((function(){w.collection("rooms").onSnapshot((function(e){return l(e.docs.map((function(e){return{id:e.id,name:e.data().name}})))}))}),[]),c.a.createElement("div",{className:"sidebar"},c.a.createElement("div",{className:"sidebar_header"},c.a.createElement("div",{className:"sidebar_info"},c.a.createElement("h2",null,"CodeChamps"),c.a.createElement("h3",null,c.a.createElement(N.a,null),null===s||void 0===s?void 0:s.displayName)),c.a.createElement(j.a,null)),c.a.createElement(D,{Icon:L.a,title:"shivam"}),c.a.createElement(D,{title:"Youtube Channel"}),c.a.createElement(D,{Icon:B.a,title:"Inbox"}),c.a.createElement(D,{Icon:U.a,title:"Drafts"}),c.a.createElement(D,{Icon:G.a,title:"Bookmark"}),c.a.createElement(D,{Icon:z.a,title:"People"}),c.a.createElement(D,{Icon:M.a,title:"Apps"}),c.a.createElement(D,{Icon:Y.a,addChannelOption:!0,title:"Add Channel"}),t.map((function(e){return c.a.createElement(D,{title:e.name,id:e.id})})))},J=(t(88),t(58)),K=t.n(J),Q=t(59),V=t.n(Q);t(89);var Z=function(e){var a=e.message,t=e.timestamp,n=e.user,l=e.userImage;return c.a.createElement("div",{className:"message"},c.a.createElement("img",{src:l,alt:""}),c.a.createElement("div",{className:"message_info"},c.a.createElement("h4",null,n,c.a.createElement("span",{className:"message_timestamp"},new Date(null===t||void 0===t?void 0:t.toDate()).toUTCString())),c.a.createElement("p",null,a)))};t(90);var $=function(e){var a=e.ChannelName,t=e.ChannelId,l=Object(n.useState)(""),r=Object(o.a)(l,2),s=r[0],i=r[1],m=f(),u=Object(o.a)(m,1)[0].user;return c.a.createElement("div",{className:"chatInput"},c.a.createElement("form",null,c.a.createElement("input",{value:s,onChange:function(e){return i(e.target.value)},placeholder:"Message# ".concat(null===a||void 0===a?void 0:a.toLowerCase())}),c.a.createElement("button",{type:"submit",onClick:function(e){e.preventDefault(),console.log(t),t&&w.collection("rooms").doc(t).collection("messages").add({message:s,timestamp:C.a.firestore.FieldValue.serverTimestamp(),user:u.displayName,userImage:u.photoURL}),i("")}},"SEND")))};var q=function(){var e=Object(y.g)().roomId,a=Object(n.useState)(null),t=Object(o.a)(a,2),l=t[0],r=t[1],s=Object(n.useState)([]),i=Object(o.a)(s,2),m=i[0],u=i[1];return Object(n.useEffect)((function(){e&&w.collection("rooms").doc(e).onSnapshot((function(e){return r(e.data())})),w.collection("rooms").doc(e).collection("messages").orderBy("timestamp","asc").onSnapshot((function(e){return u(e.docs.map((function(e){return e.data()})))}))}),[e]),console.log(l),c.a.createElement("div",{className:"chat"},c.a.createElement("div",{className:"chat_header"},c.a.createElement("div",{className:"chat_headerLeft"},c.a.createElement("h4",{className:"chat_channelName"},c.a.createElement("strong",null,"# ",null===l||void 0===l?void 0:l.name),c.a.createElement(K.a,null))),c.a.createElement("div",{className:"chat_headerRight"},c.a.createElement("p",null,c.a.createElement(V.a,null)," Details"))),c.a.createElement("div",{className:"chat_messages"},m.map((function(e){var a=e.message,t=e.timestamp,n=e.user,l=e.userImage;return c.a.createElement(Z,{message:a,timestamp:t,user:n,userImage:l})})),console.log("Here is the id".concat(e)),console.log("Here is the Room NAME ".concat(null===l||void 0===l?void 0:l.name)),c.a.createElement($,{ChannelName:null===l||void 0===l?void 0:l.name,ChannelId:e})))},X=t(32),ee=(t(91),t(106)),ae=t(37),te="SET_USER",ne=function(e,a){switch(a.type){case te:return Object(ae.a)(Object(ae.a)({},e),{},{user:a.user});default:return e}};var ce=function(){var e=f(),a=Object(o.a)(e,2),t=(a[0],a[1]);return c.a.createElement("div",{className:"login"},c.a.createElement("div",{className:"login_container"},c.a.createElement("img",{src:"https://a.slack-edge.com/80588/marketing/img/icons/icon_slack_hash_colored.png",alt:""}),c.a.createElement("h1",null," Sign in to CodeChamps HQ"),c.a.createElement("p",null," CodeChamps.slack.com"),c.a.createElement(ee.a,{onClick:function(){S.signInWithPopup(k).then((function(e){console.log(e),t({type:te,user:e.user})})).catch((function(e){alert(e.message)}))}},"Sign in with GOOGLE")))};var le=function(){var e=f(),a=Object(o.a)(e,2),t=a[0].user;return a[1],c.a.createElement("div",{className:"App"},c.a.createElement(X.a,null,t?c.a.createElement(c.a.Fragment,null,c.a.createElement(g,null),c.a.createElement("div",{className:"app_body"},c.a.createElement(F,null),c.a.createElement(y.c,null,c.a.createElement(y.a,{path:"/room/:roomId"},c.a.createElement(q,null)),c.a.createElement(y.a,{path:"/"},c.a.createElement("h1",null,"Welcome "))))):c.a.createElement(ce,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(v,{initialState:{user:null},reducer:ne},c.a.createElement(le,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[63,1,2]]]);
//# sourceMappingURL=main.a5ae55bc.chunk.js.map